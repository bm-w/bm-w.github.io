var n,t;n=angular.module("bmw",["bmwDirectives"]),n.run(["$log",function(n){return n.debug("Running..."),Hammer(window).on("pinch",function(n){return console.log("Pinch event:",n)})}]),t=angular.module("bmwDirectives",[]),t.directive("bmwHeader",[function(){var n,t;return n=!/firefox/i.test(null!=(t=window.navigator)?t.userAgent:void 0),{restrict:"A",link:function(t,r){var e,a,i,d,l,o,u,c,s,x,h,f,m,g,v,p,_,M,w,b,y,A,D,H,k,I,P;return h=d3.select(r[0]),D=h.append("svg:svg"),(f=D.append("svg:g")).attr("transform","translate("+(D[0][0].clientWidth||640)/2+",240)"),k=640,g=480,p=k/2,v=g/2,A=p-20,y=v-20,b=35,s=(b-1)/2-1,x=Math.ceil((k+g)/b),I=x/2,P=x/4,w=3,c=function(){var n,t;for(t=[],_=n=-s;s>=-s?s>n:n>s;_=s>=-s?++n:--n)t.push({x:_*x});return t}(),l={x1:function(n){return n._ldx1+w*n._ldx2+Math.max(-A,n.x+I-y)},y1:function(n){return w*n._ldx2+Math.max(-y,-n.x-A-I)},x2:function(n){return-n._ldx2-w*n._ldx1+Math.min(A,n.x+I+y)},y2:function(n){return-w*n._ldx1+Math.min(y,-n.x+A-I)}},u={x1:function(n){return-n._rdx1-w*n._rdx2+Math.min(A,n.x+I+y)},y1:function(n){return w*n._rdx2+Math.max(-y,n.x-A+I)},x2:function(n){return n._rdx2+w*n._rdx1+Math.max(-A,n.x+I-y)},y2:function(n){return-w*n._rdx1+Math.min(y,n.x+A+I)}},M=f.selectAll("line.right").data(c),M.enter().append("svg:g").classed("datum",!0).each(function(n){return n._ldx1=I*Math.random(),n._ldx2=I*Math.random(),n._rdx1=I*Math.random(),n._rdx2=I*Math.random()}).attr({"data-x":function(n){return n.x}}).call(function(n){var t,r;return(t=n.append("svg:g")).classed({left:!0}),t.append("svg:line").classed("shadow",!0),t.append("svg:line").classed("core",!0),(r=n.append("svg:g")).classed({right:!0}),r.append("svg:line").classed("shadow",!0),r.append("svg:line").classed("core",!0)}),i=500,m=!1,d=8e3,(H=function(){return M.each(function(n){return n._ldx1=P*(-.5+Math.random()),n._ldx2=P*(-.5+Math.random()),n._rdx1=P*(-.5+Math.random()),n._rdx2=P*(-.5+Math.random())}).transition().duration(i).delay(m?function(n,t){return 2e3*t/b}:0).call(function(n){return n.selectAll(m?".left line.core":".left line").attr(l),n.selectAll(m?".right line.core":".right line").attr(u)})})(),m=!0,n&&window.setInterval(H,d),a=8e3,o="#700000",e="#000070",window.setTimeout(function(){},a/2)}}}]);