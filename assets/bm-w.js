var n,t;n=angular.module("bmw",["bmwDirectives"]),n.run(["$log",function(){}]),t=angular.module("bmwDirectives",[]),t.directive("bmwHeader",[function(){var n,t;return n=!/firefox/i.test(null!=(t=window.navigator)?t.userAgent:void 0),{restrict:"A",link:function(t,r){var e,a,d,i,l,u,o,c,s,x,f,h,m,g,v,_,p,M,w,y,A,b,D,k,H,I,T;return f=d3.select(r[0]),D=f.append("svg:svg"),(h=D.append("svg:g")).attr("transform","translate("+(D[0][0].clientWidth||640)/2+",240)"),H=640,g=480,_=H/2,v=g/2,b=_-20,A=v-20,y=35,s=(y-1)/2-1,x=Math.ceil((H+g)/y),I=x/2,T=x/4,w=3,c=function(){var n,t;for(t=[],p=n=-s;s>=-s?s>n:n>s;p=s>=-s?++n:--n)t.push({x:p*x});return t}(),l={x1:function(n){return n._ldx1+w*n._ldx2+Math.max(-b,n.x+I-A)},y1:function(n){return w*n._ldx2+Math.max(-A,-n.x-b-I)},x2:function(n){return-n._ldx2-w*n._ldx1+Math.min(b,n.x+I+A)},y2:function(n){return-w*n._ldx1+Math.min(A,-n.x+b-I)}},o={x1:function(n){return-n._rdx1-w*n._rdx2+Math.min(b,n.x+I+A)},y1:function(n){return w*n._rdx2+Math.max(-A,n.x-b+I)},x2:function(n){return n._rdx2+w*n._rdx1+Math.max(-b,n.x+I-A)},y2:function(n){return-w*n._rdx1+Math.min(A,n.x+b+I)}},M=h.selectAll("line.right").data(c),M.enter().append("svg:g").classed("datum",!0).each(function(n){return n._ldx1=I*Math.random(),n._ldx2=I*Math.random(),n._rdx1=I*Math.random(),n._rdx2=I*Math.random()}).attr({"data-x":function(n){return n.x}}).call(function(n){var t,r;return(t=n.append("svg:g")).classed({left:!0}),t.append("svg:line").classed("shadow",!0),t.append("svg:line").classed("core",!0),(r=n.append("svg:g")).classed({right:!0}),r.append("svg:line").classed("shadow",!0),r.append("svg:line").classed("core",!0)}),d=500,m=!1,i=8e3,(k=function(){return M.each(function(n){return n._ldx1=T*(-.5+Math.random()),n._ldx2=T*(-.5+Math.random()),n._rdx1=T*(-.5+Math.random()),n._rdx2=T*(-.5+Math.random())}).transition().duration(d).delay(m?function(n,t){return 2e3*t/y}:0).call(function(n){return n.selectAll(m?".left line.core":".left line").attr(l),n.selectAll(m?".right line.core":".right line").attr(o)})})(),m=!0,n&&window.setInterval(k,i),a=8e3,u="#700000",e="#000070",window.setTimeout(function(){},a/2)}}}]);